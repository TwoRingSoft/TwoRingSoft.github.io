





<!doctype html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" 
      lang="en" 
      data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)" 
      prefix="og: http://ogp.me/ns#">

	<head>
		<meta charset="utf-8"/>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<meta name="author" content="Andrew McKnight"/>
		<meta name="copyright" content="Two Ring Software Copyright (c) 2018"/>
		
		<meta name="twitter:site" content="@tworingsoft" />
		<meta name="twitter:creator" content="@tworingsoft" />
		
		<meta name="og:site_name" content="Two Ring Software">
		
		<title>Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017</title>
		<meta property="og:title" content="Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017" />
		<meta property="twitter:title" content="Two Ring Software % Blog % Manage version numbers with this one line command % 17 December 2017" />
		
		<meta name="description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		<meta property="og:description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		<meta property="twitter:description" content="How I'm currently using Rake to automate a few common tasks I carry out to manage my iOS apps' version numbers." />
		
		<link rel="alternate" type="application/rss+xml" title="Two Ring Software RSS" href="/feed.xml">
		<link href='/css/blog-post.css' rel='stylesheet' type='text/css'>
		
		
			
			
				
				<meta name="og:image" content="/img/logo-small.jpg" />
			
				
				<meta name="twitter:image" content="/img/logo-small.jpg" />
			
		
	</head>
	<body>
		<div id="page-content">
			
		
		<h2>
			<a href="/" style="text-decoration: none;">
				<img src="/img/logo-small.png" height="25em" />
			</a>
			<a href="/blog/" style="text-decoration: none;">Blog</a>
		</h2>
		
					<div class="title">Manage version numbers with this one line command</div>
					<div>
						<span class="author">Andrew McKnight</span>
						<span class="date"> ・ </span>
						<span class="date">17 December 2017</span>
						<span class="date"> ・ </span>
						<span class="readtime">2 minute read</span>
					</div>
					
					<hr />
					
<div id="post-content">
	<p>Having produced both iOS apps and developer tools used in them, I feel very strongly about using <a href="https://semver.org">semantic versioning</a>. It’s a small price to pay to avoid all sorts of headaches, potentially for many more people than yourself. In my opinion, there’s no reason not to do it.</p>

<p>Maybe you don’t like the hassle of editing that one line in that config file, and coming up with a commit message for the banal change? And then also maybe tagging it with the exact same template you used for all the other tags (after 2.4.17, because that’s when you started/stopped prepending a “v” to it)? Or maybe you’ve just forgotten one of the steps in the midst of hot-patching a critical bug?</p>

<p>Well, I have seen and/or done all of these things at some point. That’s why I wrote <a href="https://github.com/tworingsoft/vrsnr">Vrsnr</a> to help alleviate the problem for myself. And as if that weren’t simple enough, I automated the automation in a Rake task:</p>

<script src="https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0.js"></script>

<noscript>
	<p class="caption">(Code snippet hosted at <a href="https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0">https://gist.github.com/armcknight/8c2def2f9c0ba6714611a28ce14f1a0e/61e05c2626679f2be5ef19add61db3f8846d7de0</a>. Enable javascript to see them embedded here.)</p>
</noscript>

<p>After git stashing <code class="highlighter-rouge">--all</code> of your working index, this will:</p>

<ul>
  <li>use Vrsnr to bump the specified version component</li>
  <li>commit the change with Vrsnr’s confirmation output as the message (“Updated CFBundleVersion from 6 to 7 in my/application/Info.plist”)</li>
  <li>use Vrsnr’s <code class="highlighter-rouge">--read</code> to get the version information back out and create a git tag</li>
</ul>

<p>and then pop the stash to resume your regularly scheduled programming.</p>

</div>
<p>
	<hr />
</p>
<p>
	Enjoy the post? Please help support more like it by <a href="https://www.paypal.me/armcknight">buying me a cup of coffee</a>! I am also available for <a href="/contracts">contracting</a>.
</p>
		</div>
	</body>
</html>
